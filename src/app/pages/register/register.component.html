<app-navbar></app-navbar>
<app-carroussel></app-carroussel>

<!--
<form (ngSubmit)="onSubmitRegister()">

  <mat-horizontal-stepper #stepper [linear]="isLinear"> -->

    <!-- STEP 1 : Informations personnelles -->
<!--    <mat-step [stepControl]="firstFormGroup">
    <ng-template matStepLabel>Informations personnelles</ng-template>
    <div [formGroup]="firstFormGroup" class="container">


        <mat-form-field appearance="fill">
          <mat-label>Nom</mat-label>
          <input matInput formControlName="nom" required>
          <mat-error *ngIf="firstFormGroup.get('nom')?.hasError('required')">
            Nom est requis.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Pr√©nom</mat-label>
          <input matInput formControlName="prenom" required>
          <mat-error *ngIf="firstFormGroup.get('prenom')?.hasError('required')">
            Pr√©nom est requis.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Date de naissance</mat-label>
          <input matInput formControlName="dateDeNaissance" placeholder="JJ/MM/AAAA" required>
          <mat-error *ngIf="firstFormGroup.get('dateDeNaissance')?.hasError('required')">
            Date est requise.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>T√©l√©phone</mat-label>
          <input matInput formControlName="telephone" placeholder="06XXXXXXXX" required>
          <mat-error *ngIf="firstFormGroup.get('telephone')?.hasError('required')">
            T√©l√©phone requis.
          </mat-error>
          <mat-error *ngIf="firstFormGroup.get('telephone')?.hasError('pattern')">
            10 chiffres.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" required>
          <mat-error *ngIf="firstFormGroup.get('email')?.hasError('required')">
            Email requis.
          </mat-error>
          <mat-error *ngIf="firstFormGroup.get('email')?.hasError('email')">
            Email invalide.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Mot de passe</mat-label>
          <input matInput type="password" formControlName="motDePasse" required>
          <mat-error *ngIf="firstFormGroup.get('motDePasse')?.hasError('required')">
            Mot de passe requis.
          </mat-error>
          <mat-error *ngIf="firstFormGroup.get('motDePasse')?.hasError('minlength')">
            ‚â• 6 caract√®res.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Confirmation</mat-label>
          <input matInput type="password" formControlName="confirmationMotDePasse" required>
          <mat-error *ngIf="firstFormGroup.hasError('passwordMismatch')">
            Mots de passe diff√©rents.
          </mat-error>
        </mat-form-field>

      </div>

      <div class="actions">
        <button type="button" mat-button matStepperNext [disabled]="firstFormGroup.invalid || requestOngoing">
          Suivant
        </button>
      </div>
    </mat-step>-->


    <!-- STEP 2 : Adresse -->
<!-- <mat-step [stepControl]="secondFormGroup">
  <ng-template matStepLabel>Adresse</ng-template>
  <div [formGroup]="secondFormGroup" class="container">


        <mat-form-field appearance="fill">
          <mat-label>Rue et num√©ro</mat-label>
          <input matInput formControlName="nomRue" required>
          <mat-error *ngIf="secondFormGroup.get('nomRue')?.hasError('required')">
            Rue requise.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Ville</mat-label>
          <input matInput formControlName="ville" required>
          <mat-error *ngIf="secondFormGroup.get('ville')?.hasError('required')">
            Ville requise.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Code postal</mat-label>
          <input matInput formControlName="codePostal" required>
          <mat-error *ngIf="secondFormGroup.get('codePostal')?.hasError('required')">
            Code postal requis.
          </mat-error>
          <mat-error *ngIf="secondFormGroup.get('codePostal')?.hasError('pattern')">
            5 chiffres.
          </mat-error>
        </mat-form-field>

      </div>

      <div class="actions">
        <button type="button" mat-button matStepperPrevious [disabled]="requestOngoing">
          Pr√©c√©dent
        </button>
        <button type="button" mat-button matStepperNext [disabled]="secondFormGroup.invalid || requestOngoing">
          Suivant
        </button>
      </div>
    </mat-step>-->


    <!-- STEP 3 : Paiement & soumission -->
<!--  <mat-step [stepControl]="troisiemeFormGroup">
   <ng-template matStepLabel>Paiement</ng-template>
   <div [formGroup]="troisiemeFormGroup" class="container">


        <mat-form-field appearance="fill">
          <mat-label>Titulaire</mat-label>
          <input matInput formControlName="titulaireCarte">
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Num√©ro carte</mat-label>
          <input matInput formControlName="numeroCarte" placeholder="1234567812345678">
          <mat-error *ngIf="troisiemeFormGroup.get('numeroCarte')?.hasError('pattern')">
            16 chiffres.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Date expiration</mat-label>
          <input matInput formControlName="dateExpiration" placeholder="MM/AA">
          <mat-error *ngIf="troisiemeFormGroup.get('dateExpiration')?.hasError('pattern')">
            MM/AA.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>CVV</mat-label>
          <input matInput formControlName="cvg" placeholder="123">
          <mat-error *ngIf="troisiemeFormGroup.get('cvg')?.hasError('pattern')">
            3 ou 4 chiffres.
          </mat-error>
        </mat-form-field>

      </div>

      <div class="actions">
        <button type="button" mat-button matStepperPrevious [disabled]="requestOngoing">
          Pr√©c√©dent
        </button>
        <button
          mat-button
          color="primary"
          type="submit"
          [disabled]="troisiemeFormGroup.invalid || requestOngoing">
          Valider et envoyer
        </button>
      </div>
    </mat-step>-->


    <!-- STEP 4 : Confirmation -->
<!--    <mat-step>
    <ng-template matStepLabel>Confirmation</ng-template>
    <p>Votre inscription est termin√©e ! üéâ</p>
    <button type="button" mat-button color="accent" routerLink="/login">Se connecter</button>
  </mat-step>

</mat-horizontal-stepper>
</form>
-->
<div class="registration-container">
  <h2>Inscription</h2>
  <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nom">Nom :</label>
      <input type="text" id="nom" formControlName="nom" required>
      <div *ngIf="registrationForm.get('nom')?.invalid && registrationForm.get('nom')?.touched" class="error-message">
        Le nom est requis.
      </div>
    </div>

    <div class="form-group">
      <label for="prenom">Pr√©nom :</label>
      <input type="text" id="prenom" formControlName="prenom" required>
      <div *ngIf="registrationForm.get('prenom')?.invalid && registrationForm.get('prenom')?.touched" class="error-message">
        Le pr√©nom est requis.
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email :</label>
      <input type="email" id="email" formControlName="email" required email>
      <div *ngIf="registrationForm.get('email')?.invalid && registrationForm.get('email')?.touched" class="error-message">
        Veuillez entrer un email valide.
      </div>
    </div>

    <div class="form-group">
      <label for="motDePasse">Mot de passe :</label>
      <input type="password" id="motDePasse" formControlName="motDePasse" required minlength="6">
      <div *ngIf="registrationForm.get('motDePasse')?.invalid && registrationForm.get('motDePasse')?.touched" class="error-message">
        Le mot de passe doit contenir au moins 6 caract√®res.
      </div>
    </div>

    <div class="form-group">
      <label for="confirmMotDePasse">Confirmer le mot de passe :</label>
      <input type="password" id="confirmMotDePasse" formControlName="confirmMotDePasse" required>
      <div *ngIf="registrationForm.get('confirmMotDePasse')?.invalid && registrationForm.get('confirmMotDePasse')?.touched && registrationForm.hasError('mismatch')" class="error-message">
        Les mots de passe ne correspondent pas.
      </div>
    </div>

    <div class="form-group">
      <label for="telephone">T√©l√©phone :</label>
      <input type="tel" id="telephone" formControlName="telephone">
    </div>

    <div class="form-group">
      <label for="dateDeNaissance">Date de Naissance :</label>
      <input type="date" id="dateDeNaissance" formControlName="dateDeNaissance">
    </div>

    <div class="form-group">
      <label for="nomRue">Rue :</label>
      <input type="text" id="nomRue" formControlName="nomRue">
    </div>

    <div class="form-group">
      <label for="codePostal">Code Postal :</label>
      <input type="text" id="codePostal" formControlName="codePostal">
    </div>

    <div class="form-group">
      <label for="ville">Ville :</label>
      <input type="text" id="ville" formControlName="ville">
    </div>

    <button type="submit" [disabled]="registrationForm.invalid">S'inscrire</button>
  </form>
</div>
